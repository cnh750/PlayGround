# Import CSV to Database Script (`import_csv_to_db.py`)

This script imports `.csv` files generated by the Game of Life simulation into an SQLite database. It processes all `.csv` files in the current directory, inserts the data into the database, and optionally deletes or moves the `.csv` files after processing.

---

## How It Works

### 1. **Database Connection**
- The script connects to the SQLite database using the path specified in the `GAME_OF_LIFE_DB` environment variable.
  ```python
  db_directory = os.getenv("GAME_OF_LIFE_DB")
  db_path = os.path.join(db_directory, "game_of_life.db")
  conn = sqlite3.connect(db_path)
  cursor = conn.cursor()

* Lines 8-10,36-38

### 2. **Processing `.csv` files
* The script processes all `.csv` fiels in the current directory
  ```python
  for filename in os.listdir(directory):
    if filename.endswith(".csv"):
        csv_path = os.path.join(directory, filename)
        import_csv_to_db(csv_path, cursor)
* lines 41 -44

### 3. Importing Data
* For each `.csv` file the scripts reads the data and inserts it into the `Generations` table
  ```python
  with open(csv_filename, mode="r") as file:
    reader = csv.reader(file)
    header = next(reader)  # Skip the header row
    for row in reader:
        if row[4]:  # Check if the "Generation" column is not empty
            cursor.execute("""
            INSERT INTO generations (
                run_id, grid_size, probability_of_life, total_generations,
                generation, alive_cells, dead_cells, born_cells, died_cells,
                stability_index, density
            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
            """, row)
* lines 16 - 29

### 4. Post Process
* Each `.csv` file is moved to a processed folder
  ```python
  processed_dir = os.path.join(os.path.dirname(csv_filename), "processed")
  os.makedirs(processed_dir, exist_ok=True)
  shutil.move(csv_filename, os.path.join(processed_dir, os.path.basename(csv_filename)))
  print(f"Moved {csv_filename} to {processed_dir}")
* Lines 34 - 37

### 5. Commit and Close
* After all files are processed the changes to the database are commited and closed
 ```python
 conn.commit()
 conn.close()

